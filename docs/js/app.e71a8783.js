(function(t){function e(e){for(var n,s,r=e[0],c=e[1],l=e[2],u=0,p=[];u<r.length;u++)s=r[u],Object.prototype.hasOwnProperty.call(i,s)&&i[s]&&p.push(i[s][0]),i[s]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(p.length)p.shift()();return o.push.apply(o,l||[]),a()}function a(){for(var t,e=0;e<o.length;e++){for(var a=o[e],n=!0,r=1;r<a.length;r++){var c=a[r];0!==i[c]&&(n=!1)}n&&(o.splice(e--,1),t=s(s.s=a[0]))}return t}var n={},i={app:0},o=[];function s(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=t,s.c=n,s.d=function(t,e,a){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)s.d(a,n,function(e){return t[e]}.bind(null,n));return a},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var d=c;o.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),i=a("755e"),o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app",[a("Main")],1)},s=[],r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Header"),a("Menu"),a("Map"),a("Footer")],1)},c=[],l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-app-bar",{attrs:{color:"light-blue accent-4",absolute:"",app:""}},[a("v-toolbar-title",{staticClass:"text-h5 ml-4 font-weight-bold white--text"},[t._v("CICP-TONGS")]),a("v-spacer")],1)},d=[],u={},p=u,f=a("2877"),h=a("6544"),g=a.n(h),m=a("40dc"),v=a("2fa4"),b=a("2a7f"),w=Object(f["a"])(p,l,d,!1,null,"dcd09270",null),C=w.exports;g()(w,{VAppBar:m["a"],VSpacer:v["a"],VToolbarTitle:b["a"]});var k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select"},[a("v-row",{staticClass:"mr-0"},[a("v-col",{staticClass:"mt-2",attrs:{cols:"8",md:"6"}},[a("v-tabs",{attrs:{"fixed-tabs":"","background-color":"#E0E0E0"},on:{change:function(e){return t.onChangeMode(e)}}},[a("v-tab",[a("v-icon",[t._v(" mdi-sack ")])],1),a("v-tab",[a("v-icon",[t._v(" mdi-map-marker-multiple ")])],1)],1)],1),a("v-spacer"),a("v-col",{staticClass:"mr-2 pt-2 text-h5",attrs:{cols:"3",md:"1"}},[a("v-select",{attrs:{"pt-0":"","single-line":"",items:t.ids},on:{change:function(e){return t.onChangeId(e)}},model:{value:t.now_id,callback:function(e){t.now_id=e},expression:"now_id"}})],1)],1)],1)},_=[],M={data:function(){return{now_id:"",ids:["ALL",0,1,2,3,4,5,6,7,8,9]}},created:function(){console.log(this.$store.getters["id"]),this.now_id=this.$store.getters["id"]},methods:{onChangeId:function(t){this.$store.commit("updateId",t)},onChangeMode:function(t){this.$store.commit("updateMode",t)}}},y=M,x=(a("cb76"),a("62ad")),O=a("132d"),A=a("0fd9"),P=a("b974"),I=a("71a3"),E=a("fe57"),S=Object(f["a"])(y,k,_,!1,null,"66c45f73",null),j=S.exports;g()(S,{VCol:x["a"],VIcon:O["a"],VRow:A["a"],VSelect:P["a"],VSpacer:v["a"],VTab:I["a"],VTabs:E["a"]});var G=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main_container"},[a("div",{staticClass:"map_container"},[a("gmap-map",{ref:"map",staticClass:"map",staticStyle:{width:"100%",height:"calc(100% - 56px - 60px - 48px)",position:"absolute",left:"0",top:"116px"},attrs:{id:"map_canvas",center:t.center,zoom:12,options:{streetViewControl:!1,rotateControl:!1,mapTypeControl:!1}}},[a("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWindowOpen},on:{closeclick:function(e){t.infoWindowOpen=!1}}},[a("div",{domProps:{innerHTML:t._s(t.infoContent)}})])],1)],1),t.showGarbageGuide?a("div",{staticClass:"garbage"},[t._m(0)]):t._e(),t.showGPSGuide?a("div",{staticClass:"garbage"},[a("div",{staticClass:"guide"},[a("div",{staticClass:"guide-content"},t._l(t.gpsMarkerColorPalette,(function(e,n){return a("div",{key:e.id,staticClass:"guide-content-flex"},[a("div",{staticClass:"marker-gps"},[a("div",{staticClass:"marker-circle",style:{background:e}}),a("div",{staticClass:"marker-name"},[t._v(t._s(n))])])])})),0)])]):t._e()])},W=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"guide"},[a("div",{staticClass:"guide-content"},[a("div",{staticClass:"guide-content-flex"},[a("div",{staticClass:"marker"},[a("div",{staticClass:"marker-circle can"}),a("div",{staticClass:"marker-name"},[t._v("缶")])]),a("div",{staticClass:"marker"},[a("div",{staticClass:"marker-circle petbottle"}),a("div",{staticClass:"marker-name"},[t._v("ペットボトル")])]),a("div",{staticClass:"marker"},[a("div",{staticClass:"marker-circle tobacco"}),a("div",{staticClass:"marker-name"},[t._v("タバコ")])]),a("div",{staticClass:"marker"},[a("div",{staticClass:"marker-circle paper"}),a("div",{staticClass:"marker-name"},[t._v("紙類")])]),a("div",{staticClass:"marker"},[a("div",{staticClass:"marker-circle plastic"}),a("div",{staticClass:"marker-name"},[t._v("プラスチック")])])])])])}],$=a("2909"),L=(a("159b"),a("d81d"),a("99af"),a("a7c6")),T=a("260b");a("e71f");n["default"].use(L["a"]);var V=T["a"].initializeApp({apiKey:"AIzaSyDb2BCe1ULMDVg4SK6TDgyzBqQkQ2M7OPU",authDomain:"cicptongs-a1b76.firebaseapp.com",projectId:"cicptongs-a1b76",storageBucket:"cicptongs-a1b76.appspot.com",messagingSenderId:"687458868015",appId:"1:687458868015:web:7fb11391d45f234c091fda"}),B=V.firestore(),D={data:function(){return{center:{lat:34.684452,lng:135.834709},infoContent:"",infoWindowPos:{lat:0,lng:0},infoWindowOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:0}},garbages:[],markers:[],showGarbageGuide:!0,showGPSGuide:!1,gpsMarkerColorPalette:["#1AC3A6","#34CF7A","#41A1E1","#A667BF","#F2C500","#EA8B1D","#EB5D49","#475B6F","#ECF0F1","#9FAEAF"]}},created:function(){},mounted:function(){this.showMapData(this.nowId,this.nowMode),this.showGuide(this.nowMode)},computed:{nowId:function(){return this.$store.getters["id"]},nowMode:function(){return this.$store.getters["mode"]}},watch:{nowId:function(t){this.showMapData(t,this.nowMode)},nowMode:function(t){this.showMapData(this.nowId,t),this.showGuide(t)}},methods:{resetMarker:function(){this.markers.forEach((function(t){t.setMap(null)})),this.markers=[]},showGuide:function(t){0==t?(this.showGPSGuide=!1,this.showGarbageGuide=!0):1==t&&(this.showGarbageGuide=!1,this.showGPSGuide=!0)},showMapData:function(t,e){var a=this,n="ALL"==t?0:t,i="ALL"==t?">=":"==",o=0==e?"garbage":"gps",s=[];this.resetMarker(),B.collection(o).where("user_id",i,n).get().then((function(t){if(0==t.size)console.log("データがありません");else{var n=a.$refs.map.$mapObject,i="black";if(t.forEach((function(t,o){if(null!=t.data().latitude&&null!=t.data().longitude){if(0==e){switch(t.data().type){case"PET bottle":i="#3261AB";break;case"plastic":i="#131420";break;case"can":i="#C7243A";break;case"paper":i="#009250";break;case"tabacco":i="#EDAD0B";break;default:i="white"}var r=new window.google.maps.Marker({position:{lat:t.data().latitude,lng:t.data().longitude},draggable:!1,clickable:!0,map:n,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:i,fillOpacity:.8,strokeColor:"white",strokeWeight:1}});r.addListener("click",(function(){a.toggleInfoWindow(t.data(),o)}))}else r=new window.google.maps.Marker({position:{lat:t.data().latitude,lng:t.data().longitude},draggable:!1,clickable:!1,map:n,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:a.gpsMarkerColorPalette[t.data().user_id],fillOpacity:.8,strokeColor:"white",strokeWeight:1}});a.markers.push(r),s.push({position:{lat:t.data().latitude,lng:t.data().longitude}})}})),s.length>0){var o=new window.google.maps.LatLngBounds({lat:Math.min.apply(Math,Object($["a"])(s.map((function(t){return t.position.lat})))),lng:Math.min.apply(Math,Object($["a"])(s.map((function(t){return t.position.lng}))))},{lat:Math.max.apply(Math,Object($["a"])(s.map((function(t){return t.position.lat})))),lng:Math.max.apply(Math,Object($["a"])(s.map((function(t){return t.position.lng}))))});n.fitBounds(o,10)}}})).catch((function(t){console.log(t),a.garbages=[]}))},toggleInfoWindow:function(t,e){this.infoWindowPos={lat:t.latitude,lng:t.longitude},this.infoContent=this.getInfoWindowContent(t),this.currentMidx==e?this.infoWindowOpen=!this.infoWindowOpen:(this.infoWindowOpen=!0,this.currentMidx=e)},getInfoWindowContent:function(t){return'\n        <div class="card" style="width:104px; height:104px">\n          <div class="card-content" style="margin-left:6px">\n            <div><b style="font-size:16px; font-weight:900">'.concat(t.type,'</b></div>\n            <img style="margin-top:8px; border-radius: 4px;" src="').concat(t.img_url,'" width="96" height="72">\n          </div>\n        </div>\n        ')}}},F=D,z=(a("d7fe"),Object(f["a"])(F,G,W,!1,null,"612aae4d",null)),H=z.exports,R=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-footer",{attrs:{padless:"",absolute:"",color:"black"}},[a("v-col",{staticClass:"text-center white--text",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" - "),a("strong",[t._v("NAIST UBI")])])],1)},U=[],Q=a("553a"),J={},K=Object(f["a"])(J,R,U,!1,null,null,null),N=K.exports;g()(K,{VCol:x["a"],VFooter:Q["a"]});var Y={components:{Header:C,Menu:j,Map:H,Footer:N}},q=Y,X=Object(f["a"])(q,r,c,!1,null,null,null),Z=X.exports,tt={name:"App",components:{Main:Z}},et=tt,at=(a("034f"),a("7496")),nt=Object(f["a"])(et,o,s,!1,null,null,null),it=nt.exports;g()(nt,{VApp:at["a"]});var ot=a("2f62");n["default"].use(ot["a"]);var st=new ot["a"].Store({state:{id:"ALL",mode:0},mutations:{updateId:function(t,e){t.id=e},updateMode:function(t,e){t.mode=e}},getters:{mode:function(t){return t.mode},id:function(t){return t.id}}}),rt=a("f309");n["default"].use(rt["a"]);var ct=new rt["a"]({});n["default"].config.productionTip=!1,n["default"].use(i,{load:{key:"AIzaSyAQHToOnU0iW0wPbEDpp1iT4vY7_FRsvBA",libraries:"places"}}),new n["default"]({vuetify:ct,store:st,render:function(t){return t(it)}}).$mount("#app")},"596a":function(t,e,a){},"85ec":function(t,e,a){},cb76:function(t,e,a){"use strict";a("e377")},d7fe:function(t,e,a){"use strict";a("596a")},e377:function(t,e,a){}});
//# sourceMappingURL=app.e71a8783.js.map