(function(t){function e(e){for(var o,r,s=e[0],l=e[1],c=e[2],d=0,p=[];d<s.length;d++)r=s[d],Object.prototype.hasOwnProperty.call(a,r)&&a[r]&&p.push(a[r][0]),a[r]=0;for(o in l)Object.prototype.hasOwnProperty.call(l,o)&&(t[o]=l[o]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var l=n[s];0!==a[l]&&(o=!1)}o&&(i.splice(e--,1),t=r(r.s=n[0]))}return t}var o={},a={app:0},i=[];function r(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,r),n.l=!0,n.exports}r.m=t,r.c=o,r.d=function(t,e,n){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)r.d(n,o,function(e){return t[e]}.bind(null,o));return n},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=l;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"034f":function(t,e,n){"use strict";n("85ec")},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),a=n("755e"),i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("Main")],1)},r=[],s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("Menu"),n("Map"),n("Footer")],1)},l=[],c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app-bar",{attrs:{color:"light-blue accent-4",absolute:"",app:""}},[n("v-toolbar-title",{staticClass:"text-h5 ml-4 font-weight-bold white--text"},[t._v("CICP-TONGS")]),n("v-spacer")],1)},u=[],d={},p=d,f=n("2877"),h=n("6544"),g=n.n(h),m=n("40dc"),b=n("2fa4"),w=n("2a7f"),v=Object(f["a"])(p,c,u,!1,null,"dcd09270",null),M=v.exports;g()(v,{VAppBar:m["a"],VSpacer:b["a"],VToolbarTitle:w["a"]});var y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"select"},[n("v-row",{staticClass:"mr-0"},[n("v-col",{staticClass:"mt-2",attrs:{cols:"8",md:"6"}},[n("v-tabs",{attrs:{"fixed-tabs":"","background-color":"#E0E0E0"},on:{change:function(e){return t.onChangeMode(e)}}},[n("v-tab",[n("v-icon",[t._v(" mdi-sack ")])],1),n("v-tab",[n("v-icon",[t._v(" mdi-map-marker-multiple ")])],1)],1)],1),n("v-spacer"),n("v-col",{staticClass:"mr-2 pt-2 text-h5",attrs:{cols:"3",md:"1"}},[n("v-select",{attrs:{"pt-0":"","single-line":"",items:t.ids},on:{change:function(e){return t.onChangeId(e)}},model:{value:t.now_id,callback:function(e){t.now_id=e},expression:"now_id"}})],1)],1)],1)},C=[],_={data:function(){return{now_id:"",ids:["ALL",1,2,3,4,5,6,7,8,9,10]}},created:function(){console.log(this.$store.getters["id"]),this.now_id=this.$store.getters["id"]},methods:{onChangeId:function(t){this.$store.commit("updateId",t)},onChangeMode:function(t){this.$store.commit("updateMode",t)}}},O=_,x=(n("6794"),n("62ad")),k=n("132d"),A=n("0fd9"),I=n("b974"),j=n("71a3"),E=n("fe57"),S=Object(f["a"])(O,y,C,!1,null,"1fd4c698",null),P=S.exports;g()(S,{VCol:x["a"],VIcon:k["a"],VRow:A["a"],VSelect:I["a"],VSpacer:b["a"],VTab:j["a"],VTabs:E["a"]});var W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"main_container"},[n("div",{staticClass:"map_container"},[n("gmap-map",{ref:"map",staticClass:"map",staticStyle:{width:"100%",height:"calc(100% - 56px - 60px - 48px)",position:"absolute",left:"0",top:"116px"},attrs:{id:"map_canvas",center:t.center,zoom:12,options:{streetViewControl:!1,rotateControl:!1,mapTypeControl:!1}}},[n("gmap-info-window",{attrs:{options:t.infoOptions,position:t.infoWindowPos,opened:t.infoWindowOpen},on:{closeclick:function(e){t.infoWindowOpen=!1}}},[n("div",{domProps:{innerHTML:t._s(t.infoContent)}})])],1)],1)])},L=[],T=n("2909"),V=(n("159b"),n("d81d"),n("99af"),n("a7c6")),$=n("260b");n("e71f");o["default"].use(V["a"]);var B=$["a"].initializeApp({apiKey:"AIzaSyDb2BCe1ULMDVg4SK6TDgyzBqQkQ2M7OPU",authDomain:"cicptongs-a1b76.firebaseapp.com",projectId:"cicptongs-a1b76",storageBucket:"cicptongs-a1b76.appspot.com",messagingSenderId:"687458868015",appId:"1:687458868015:web:7fb11391d45f234c091fda"}),D=B.firestore(),F={data:function(){return{center:{lat:34.684452,lng:135.834709},infoContent:"",infoWindowPos:{lat:0,lng:0},infoWindowOpen:!1,currentMidx:null,infoOptions:{pixelOffset:{width:0,height:0}},garbages:[],markers:[]}},created:function(){},mounted:function(){this.showMapData(this.nowId,this.nowMode)},computed:{nowId:function(){return this.$store.getters["id"]},nowMode:function(){return this.$store.getters["mode"]}},watch:{nowId:function(t){this.showMapData(t,this.nowMode)},nowMode:function(t){this.showMapData(this.nowId,t)}},methods:{resetMarker:function(){this.markers.forEach((function(t){t.setMap(null)})),this.markers=[]},showMapData:function(t,e){var n=this,o="ALL"==t?0:t,a="ALL"==t?">=":"==",i=0==e?"garbage":"gps",r=[],s=["#1AC3A6","#34CF7A","#41A1E1","#A667BF","#F2C500","#EA8B1D","#EB5D49","#475B6F","#ECF0F1","#9FAEAF"];this.resetMarker(),D.collection(i).where("user_id",a,o).get().then((function(t){if(0==t.size)console.log("データがありません");else{var o=n.$refs.map.$mapObject,a="black";if(t.forEach((function(t,i){if(null!=t.data().latitude&&null!=t.data().longitude){if(0==e){switch(t.data().type){case"PET bottle":a="#3261AB";break;case"plastic":a="#131420";break;case"can":a="#C7243A";break;case"paper":a="#009250";break;case"tabacco":a="#EDAD0B";break;default:a="white"}var l=new window.google.maps.Marker({position:{lat:t.data().latitude,lng:t.data().longitude},draggable:!1,clickable:!0,map:o,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:a,fillOpacity:.8,strokeColor:"white",strokeWeight:1}});l.addListener("click",(function(){n.toggleInfoWindow(t.data(),i)}))}else l=new window.google.maps.Marker({position:{lat:t.data().latitude,lng:t.data().longitude},draggable:!1,clickable:!1,map:o,icon:{path:window.google.maps.SymbolPath.CIRCLE,scale:12,fillColor:s[t.data().user_id],fillOpacity:.8,strokeColor:"white",strokeWeight:1}});n.markers.push(l),r.push({position:{lat:t.data().latitude,lng:t.data().longitude}})}})),r.length>0){var i=new window.google.maps.LatLngBounds({lat:Math.min.apply(Math,Object(T["a"])(r.map((function(t){return t.position.lat})))),lng:Math.min.apply(Math,Object(T["a"])(r.map((function(t){return t.position.lng}))))},{lat:Math.max.apply(Math,Object(T["a"])(r.map((function(t){return t.position.lat})))),lng:Math.max.apply(Math,Object(T["a"])(r.map((function(t){return t.position.lng}))))});o.fitBounds(i,10)}}})).catch((function(t){console.log(t),n.garbages=[]}))},toggleInfoWindow:function(t,e){this.infoWindowPos={lat:t.latitude,lng:t.longitude},this.infoContent=this.getInfoWindowContent(t),this.currentMidx==e?this.infoWindowOpen=!this.infoWindowOpen:(this.infoWindowOpen=!0,this.currentMidx=e)},getInfoWindowContent:function(t){return'\n        <div class="card" style="width:104px; height:104px">\n          <div class="card-content" style="margin-left:6px">\n            <div><b style="font-size:16px; font-weight:900">'.concat(t.type,'</b></div>\n            <img style="margin-top:8px; border-radius: 4px;" src="').concat(t.img_url,'" width="96" height="72">\n          </div>\n        </div>\n        ')}}},z=F,H=Object(f["a"])(z,W,L,!1,null,"4097db9f",null),R=H.exports,U=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-footer",{attrs:{padless:"",absolute:"",color:"black"}},[n("v-col",{staticClass:"text-center white--text",attrs:{cols:"12"}},[t._v(" "+t._s((new Date).getFullYear())+" - "),n("strong",[t._v("NAIST UBI")])])],1)},Q=[],J=n("553a"),K={},N=Object(f["a"])(K,U,Q,!1,null,null,null),Y=N.exports;g()(N,{VCol:x["a"],VFooter:J["a"]});var q={components:{Header:M,Menu:P,Map:R,Footer:Y}},G=q,X=Object(f["a"])(G,s,l,!1,null,null,null),Z=X.exports,tt={name:"App",components:{Main:Z}},et=tt,nt=(n("034f"),n("7496")),ot=Object(f["a"])(et,i,r,!1,null,null,null),at=ot.exports;g()(ot,{VApp:nt["a"]});var it=n("2f62");o["default"].use(it["a"]);var rt=new it["a"].Store({state:{id:"ALL",mode:0},mutations:{updateId:function(t,e){t.id=e},updateMode:function(t,e){t.mode=e}},getters:{mode:function(t){return t.mode},id:function(t){return t.id}}}),st=n("f309");o["default"].use(st["a"]);var lt=new st["a"]({});o["default"].config.productionTip=!1,o["default"].use(a,{load:{key:"AIzaSyAQHToOnU0iW0wPbEDpp1iT4vY7_FRsvBA",libraries:"places"}}),new o["default"]({vuetify:lt,store:rt,render:function(t){return t(at)}}).$mount("#app")},6794:function(t,e,n){"use strict";n("9e46")},"85ec":function(t,e,n){},"9e46":function(t,e,n){}});
//# sourceMappingURL=app.55c93cc3.js.map